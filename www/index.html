
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>IKP-Management </title>
    <link rel="stylesheet" href="../css/main.css">
    <script src="../scripts/js/angular.min.js"></script>
    <script src="../scripts/js/ui-bootstrap-tpls-2.0.0.min.js"></script>
    <script src="../scripts/js/angular-animate.min.js"></script>
    <script src="../scripts/js/angular-filter.min.js"></script>


    <script src="../scripts/js/control.js"></script>

    <!-- Latest compiled and minified CSS -->
    <link rel="stylesheet" href="../css/bootstrap.min.css">

    <!-- jQuery library -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.2/jquery.min.js"></script>

    <!-- Latest compiled JavaScript -->
    <script src="../scripts/js/bootstrap.min.js"></script>
    <script>
        function entry() {
            var entryType = document.getElementById("entType");
            var devQuantity = document.getElementById("devQuant");
            if (entryType.value != "Single"){
                devQuantity.value = "";
                devQuantity.disabled = "";

            }else {
                devQuantity.value = 1;
                devQuantity.disabled = "true";
            }
        }
        function assign(){
            var availStock = document.getElementById("avaStock");
            var hardQty = document.getElementById("hrdQty");

            if(availStock.value != 1){
                hardQty.disabled = "";
            }else{
                hardQty.disabled = "true";
                hardQty.value = 1;
            }
        }
    </script>
</head>
<body ng-app="inventoryApp" >
<div class="container-fluid"><!--main body container-->
    <div class="row-fluid"><!--header-->
        <div class="page-header">
            <h3>IKP Inventory Management </h3>
        </div>
    </div>
    <div class="row"><!--Nav + body content-->
        <div class="col-md-2 col-lg-2 navbg">
            <ul class="nav nav-pills nav-stacked">
                <li class="dropdown">
                    <a class="dropdown-toggle" data-toggle="dropdown" href="#">Inventory<span class="caret"></span></a>
                    <ul class="dropdown-menu">
                        <li><a data-toggle="tab" href="#addtoInvetory">Add</a></li>
                        <li><a data-toggle="tab" href="#viewInventory">View</a></li>
                        <li><a data-toggle="tab" href="#UpdateInventory">Update</a></li>
                    </ul>
                </li>
                <li class="dropdown">
                    <a class="dropdown-toggle" data-toggle="dropdown" href="#">Assign<span class="caret"></span></a>
                    <ul class="dropdown-menu">
                        <li><a data-toggle="tab" href="#assignHardware">Hardware</a></li>
                        <li><a data-toggle="tab" href="#viewAssignments">View</a></li>
                        <li><a data-toggle="tab" href="#updateAssignments">Update</a></li>
                    </ul>
                </li>

            </ul>
        </div>
        <div class="col-md-10 col-lg-10">
            <div class="row">
                <div class="tab-content">
                    <div class="welcome tab-pane fade in active"><h3>Welcome to the IKP Inventory!!!</h3></div>
                    <div id="addtoInvetory" class="tab-pane fade ">
                        <!--Device registration-->
                        <div class="container">
                            <form role="form" class="form-horizontal" action="../server/addinventory.php" method="post" ng-controller="addinventoryController" >
                                <h3>Add to Inventory</h3>
                                <div class="divider"></div>
                                <div class="form-group">
                                    <label class="control-label col-md-2 col-lg-2" >Device category:</label>
                                    <div class="col-lg-6 col-md-6">
                                        <select class="form-control" name="devCategory" placeholder="Choose a catergory" ng-model="devCat">
                                            <option  ng-selected="true" value="">Choose a catergory...</option>
                                            <option ng-repeat="cat in category | unique:'Category'">{{cat.Category}}</option>
                                        </select>
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label class="control-label col-md-2 col-lg-2" >Choose device :</label>
                                    <div class="col-lg-6 col-md-6">
                                        <select class="form-control" name="deviceType" placeholder="Choose an option that perfectly matches the device or choose the closest one " ng-model="devNg" required>
                                            <option ng-disabled="true" ng-selected="true" value="">Choose a Device...</option>
                                            <option ng-repeat="dev in device | unique:'dev' | filter:{Category:devCat}">{{dev.dev}}</option>
                                        </select>
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label class="control-label col-md-2 col-lg-2">Entry type:</label>
                                    <div class="col-lg-6 col-md-6">
                                        <select class="form-control" id="entType" name="entryType" placeholder="Choose entry type" onchange="entry();" required>
                                            <option ng-disabled="true" ng-selected="true" value="">choose entry type</option>
                                            <option value="Bulk">Bulk</option>
                                            <option value="Single">Single</option>
                                        </select>
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label class="control-label col-md-2 col-lg-2">Brand name :</label>
                                    <div class="col-lg-6 col-md-6">
                                        <input type="text" class="form-control" name="brandName" placeholder="Enter Brand Name" required>
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label class="control-label col-md-2 col-lg-2">Quantity:</label>
                                    <div class="col-lg-6 col-md-6">
                                        <input type="number" class="form-control" id="devQuant" name="devQuantity" min="1" placeholder="Enter quantity" required>
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label class="control-label col-md-2 col-lg-2">Condition :</label>
                                    <div class="col-lg-6 col-md-6">
                                        <select class="form-control" name="deviceCondition" placeholder="Choose whether the device is new/old/refurbished" required>
                                            <option ng-disabled="true" ng-selected="true" value="">choose a device condition</option>
                                            <option value="Old">Old</option>
                                            <option value="New">New</option>
                                            <option value="Refurbished">Refurbished</option>
                                        </select>
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label class="control-label col-md-2 col-lg-2" >Description:</label>
                                    <div class="col-lg-6 col-md-6">
                                        <textarea  class="form-control" name="deviceDesc" placeholder="Provide device description or any information pertaining to the device..." required></textarea>
                                    </div>
                                </div>

                                <div class="form-group">
                                    <div class="col-md-offset-2 col-md-10 col-lg-offset-2 col-lg-10">
                                        <button type="submit" class="btn btn-primary">Submit</button>
                                        <button type="reset" class="btn btn-default">Cancel</button>
                                    </div>
                                </div>
                            </form>
                        </div>
                    </div>
                    <div id="viewInventory" class="tab-pane fade">
                        <div class="container">
                            <form class="form" role="form"> <!-- search field(incomplete) size="78"-->
                                <div class="form-group ">
                                    <input type="text" class="form-control"  type="text"  placeholder="Search... " ng-model="inventSearch">
                                </div>

                            </form>
                            <div class="table-responsive">
                                <table class="table table-hover" ng-controller = "viewInventoryController">
                                    <thead>
                                    <tr>
                                        <th>Sno</th>
                                        <th>Category</th>
                                        <th>Entry type</th>
                                        <th>Device</th>
                                        <th>Brand</th>
                                        <th>Quantity</th>
                                        <th>Condition</th>
                                        <th>Description</th>
                                        <th>QR Data</th>
                                    </tr>
                                    </thead>
                                    <tbody >
                                    <tr ng-repeat="entry in entries | filter: inventSearch">
                                        <td>{{entry.Sno}}</td>
                                        <td>{{entry.devCategory}}</td>
                                        <td>{{entry.entryType}}</td>
                                        <td>{{entry.devName}}</td>
                                        <td>{{entry.brandName}}</td>
                                        <td>{{entry.devQuantity}}</td>
                                        <td>{{entry.devCondition}}</td>
                                        <td>{{entry.Description}}</td>
                                        <td>{{entry.qrData}}</td>
                                    </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>

                    <div id="UpdateInventory" class="tab-pane fade" ng-controller = "updateInventoryController">
                        <div class="container">
                            <form role="form" class="form-inline"  method="post"  >
                                <h4>Filter By</h4>
                                <div class="form-group">
                                    <label>Category:</label>
                                    <select class="form-control" name="devCategory" placeholder="Choose a catergory" ng-model="filterByCategory">
                                        <option  ng-selected="true" value="">Choose a catergory...</option>
                                        <option ng-repeat="cat in category | unique:'Category'">{{cat.Category}}</option>
                                    </select>

                                </div>
                                <div class="form-group">
                                    <label>Device:</label>
                                    <select class="form-control" name="deviceType" ng-model="filterByDevice" required>
                                        <option  ng-selected="true" value="">Choose a Device...</option>
                                        <option ng-repeat="dev in device | unique:'dev' | filter:{Category:filterByCategory}">{{dev.dev}}</option>
                                    </select>

                                </div>
                                <div class="form-group">
                                    <label>Condition:</label>
                                    <select class="form-control" name="devCondition"  ng-model="filterByCondition">
                                        <option  ng-selected="true" value="">choose a device condition</option>
                                        <option value="Old">Old</option>
                                        <option value="New">New</option>
                                        <option value="Refurbished">Refurbished</option>
                                    </select>
                                </div>
                            </form>
                            <div class="container custSearch">
                                <form class="form-horizontal">
                                    <div class="form-group ">
                                        <input type="text" class="form-control col-lg-4 col-md-4"  type="text"  placeholder="Search... " ng-model="devTextSearch">
                                    </div>
                                </form>
                            </div>


                            <div class="table-responsive">
                                <table class="table table-hover">
                                    <thead>
                                    <tr>
                                        <th>Sno</th>
                                        <th>Category</th>
                                        <th>Entry type</th>
                                        <th>Device</th>
                                        <th>Brand</th>
                                        <th>Quantity</th>
                                        <th>Condition</th>
                                        <th>Description</th>
                                    </tr>
                                    </thead>
                                    <tbody >
                                    <tr ng-repeat="entry in entries | filter: devTextSearch |filter: filterByCategory | filter: filterByDevice | filter: filterByCondition " ng-click = "open('lg');">
                                        <td>{{entry.Sno}}</td>
                                        <td>{{entry.devCategory}}</td>
                                        <td>{{entry.entryType}}</td>
                                        <td>{{entry.devName}}</td>
                                        <td>{{entry.brandName}}</td>
                                        <td>{{entry.devQuantity}}</td>
                                        <td>{{entry.devCondition}}</td>
                                        <td>{{entry.Description}}</td>

                                    </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>

                    </div>
                    <div id="viewAssignments" class="tab-pane fade ">
                        <div class="container">
                            <div class="table-responsive">
                                <table class="table table-hover" >
                                    <thead>
                                    <tr>
                                        <th>Sno</th>
                                        <th>Switch</th>
                                        <th>No. of ports</th>
                                        <th>Floor</th>
                                        <th>Room</th>
                                        <th>Description</th>
                                    </tr>
                                    </thead>
                                    <tbody >
                                    <tr ng-repeat="entry in entries | filter: pubSearch">
                                        <td>{{entry.Sno}}</td>
                                        <td>{{entry.switchName}}</td>
                                        <td>{{entry.noofPorts}}</td>
                                        <td>{{entry.floorNum}}</td>
                                        <td>{{entry.roomNum}}</td>
                                        <td>{{entry.description}}</td>

                                    </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>

                    </div>
                    <div id="assignHardware" class="tab-pane fade">
                        <div class="container">
                            <form role="form" class="form-horizontal" action="../server/assignhardware.php" method="post"  ng-controller="assignHardwareController">
                                <h3>Assign Hardware</h3>
                                <div class="divider"></div>
                                <div class="form-group">
                                    <label class="control-label col-sm-2" >Assign to:</label>
                                    <div class="col-lg-8 col-md-8">
                                        <input type="text" class="form-control" name="assigneeName" placeholder="Enter the name of the person to whom the hardware has to be assigned" required>
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label class="control-label col-sm-2" >Room No:</label>
                                    <div class="col-lg-8 col-md-8">
                                        <input type="text" class="form-control" name="assigneeRoom" placeholder="Enter Room no" required>
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label class="control-label col-sm-2" >email:</label>
                                    <div class="col-lg-8 col-md-8">
                                        <input type="email" class="form-control" name="assigneeEmail" placeholder="Enter email id" required >
                                    </div>
                                </div>
                                <h4>Choose Hardware to assign</h4>
                                <div class="form-group">
                                    <label class="control-label col-md-2 col-lg-2" >Device category:</label>
                                    <div class="col-lg-6 col-md-6">
                                        <select class="form-control" name="devCategory" placeholder="Choose a catergory" ng-model="devCat">
                                            <option  ng-selected="true" value="">Choose a catergory...</option>
                                            <option ng-repeat="cat in assign | unique:'devCategory'">{{cat.devCategory}}</option>
                                        </select>
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label class="control-label col-md-2 col-lg-2" >Choose device :</label>
                                    <div class="col-lg-6 col-md-6">
                                        <select class="form-control" name="deviceType" placeholder="Choose an option that perfectly matches the device or choose the closest one " ng-model="devNg" required>
                                            <option ng-disabled="true" ng-selected="true" value="">Choose a Device...</option>
                                            <option ng-repeat="dev in assign | unique:'devName' | filter:{devCategory:devCat}">{{dev.devName}}</option>
                                        </select>
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label class="control-label col-md-2 col-lg-2" >Brand:</label>
                                    <div class="col-lg-6 col-md-6">
                                        <select class="form-control" name="deviceBrand" placeholder="Choose whether the device is new/old/refurbished" ng-model="devBrand" required>
                                            <option ng-disabled="true" ng-selected="true" value="">choose a brand</option>
                                            <option ng-repeat="brd in assign | unique:'brandName' | filter:{devName:devNg}">{{brd.brandName}}</option>
                                        </select>
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label class="control-label col-md-2 col-lg-2" >Device Condition :</label>
                                    <div class="col-lg-6 col-md-6">
                                        <select class="form-control" name="deviceCond" placeholder="Choose whether the device is new/old/refurbished" ng-model="devCond" required>
                                            <option ng-disabled="true" ng-selected="true" value="">Choose a device condition</option>
                                            <option ng-repeat="conn in assign | unique:'devCondition' | filter:{brandName:devBrand}">{{conn.devCondition}}</option>
                                        </select>
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label class="control-label col-sm-2" >Available stock:</label>
                                    <div class="col-lg-8 col-md-8">
                                        <select class="form-control" name="availStock" placeholder="Available stock" id="avaStock" onchange="assign();">
                                            <option ng-disabled="true" ng-selected="true" value="">----</option>
                                           <option ng-repeat="quant in assign | unique:'devQuantity' | filter:{devCondition:devCond}">{{quant.devQuantity}}</option>
                                        </select>
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label class="control-label col-sm-2" >Quantity:</label>
                                    <div class="col-lg-8 col-md-8">
                                        <input type="number" min="1" id="hrdQty" class="form-control" name="hardwareQty" placeholder="Enter Quantity" required>
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label class="control-label col-sm-2" >Comments:</label>
                                    <div class="col-lg-8 col-md-8">
                                        <textarea class="form-control" name="hardComm" placeholder="Enter your comments here"></textarea>
                                    </div>
                                </div>

                                <div class="form-group">
                                    <div class="col-sm-offset-2 col-sm-10">
                                        <button type="submit" class="btn btn-primary">Submit</button>
                                        <button type="reset" class="btn btn-default">Cancel</button>
                                    </div>
                                </div>
                            </form>
                        </div>
                    </div>
                    <div id="viewSwitchpatching" class="tab-pane fade " >
                        <div class="container">
                            <form class="form" role="form">
                                <div class="form-group ">
                                    <input type="text" class="form-control"  type="text"  placeholder="Search... " ng-model="patchSearch">
                                </div>

                            </form>
                            <div class="table-responsive">
                                <table class="table table-hover" >
                                    <thead>
                                    <tr>
                                        <th>Sno</th>
                                        <th>Floor No.</th>
                                        <th>Switch Room</th>
                                        <th>Switch Name</th>
                                        <th>Port num</th>
                                        <th>VLAN-ID</th>
                                        <th>VLAN-Name</th>
                                        <th>Source</th>
                                        <th>Destination Room</th>
                                        <th>Destination Jack</th>
                                        <th>Comments</th>

                                    </tr>
                                    </thead>
                                    <tbody >
                                    <tr ng-repeat="entry in entries | filter: patchSearch" >
                                        <td>{{entry.Sno}}</td>
                                        <td>{{entry.floorNum}}</td>
                                        <td>{{entry.switchRoom}}</td>
                                        <td>{{entry.switchName}}</td>
                                        <td>{{entry.switchPortnum}}</td>
                                        <td>{{entry.vlanId}}</td>
                                        <td>{{entry.vlanName}}</td>
                                        <td>{{entry.patchFieldsrc}}</td>
                                        <td>{{entry.destinationRoom}}</td>
                                        <td>{{entry.destinationJack}}</td>
                                        <td>{{entry.comments}}</td>
                                    </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>

                    </div>

                </div>


            </div>


        </div>

    </div>
    <div class="row"><!--footer-->
        <nav class="navbar navbar-inverse navbar-fixed-bottom">
            <div class="container-fluid">
                <div class="navbar-header">
                    <h4 class="navbar-brand">All rights reserved @ Institut für kern physik</h4>
                </div>
            </div>
        </nav>


    </div>
</div>

</body>
</html>
